spring.application.name=lundedev-core

# Google OAuth2 Configuration
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:your-client-id}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET:your-client-secret}
spring.security.oauth2.client.registration.google.scope=openid,email,profile

# Additional OAuth2 client IDs that are allowed to call the API (comma-separated)
# Use this to allow tokens from your React frontend if it uses a different client ID
app.security.allowed-client-ids=${ALLOWED_CLIENT_IDS:${spring.security.oauth2.client.registration.google.client-id}}

# Proxy Configuration (needed for OAuth2 behind reverse proxy)
server.forward-headers-strategy=framework

# Actuator Configuration
management.endpoints.web.exposure.include=health
management.endpoint.health.probes.enabled=true

# Home Assistant Integration
homeassistant.url=${HOME_ASSISTANT_URL:http://host.docker.internal:8123}
homeassistant.token=${HOME_ASSISTANT_TOKEN:your-token}

# Google Cloud Vertex AI
google.cloud.project-id=${GOOGLE_CLOUD_PROJECT:carbide-trees-385713}
google.cloud.location=\${GOOGLE_CLOUD_LOCATION:us-central1}

# Debug Security
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.security.oauth2=DEBUG

# Database Configuration
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://postgres:5432/lundedev}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:lundedev}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:lundedev_secret}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# Flyway Configuration
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
